{% extends 'appEball/base_with_grey_background.html' %}
{% load static %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'appEball/css/tournament_info.css' %}">
{% endblock %}

{% block title %}
    Tournament
{% endblock %}

{% block content2 %}    
    <div class="row">
        <div class="col">
            <h2>{{tournament.name}}</h2>
        </div>
        <div class="col">
            {% if tournament.user == user %}
                <div class="col">
                    <a class="btn rounded-pill float-right"  href="{% url 'appEball:generate_games' tournament.pk %}" id='pageBtn'>Generate Games</a>
                </div>
            {% endif %}
        </div>
    </div>

    <div class="content">
        {% if tournament.gRound > 0 %}
            <div class="row" >
                <div class="col-1">
                    {# botao para a tras #}
                </div>
                <div class="col" align='center'>
                    <p class="title">Round {{tournament.gRound}}</p>
                </div>
                <div class="col-1">
                    {# botao para a frente #}
                </div>
            </div>
        {% else %}
            <div class="row">
                <div class="col" align='center'>
                    <p class="title">Game days</p>
                </div>
            </div> 
            {% for day in days %}
                <div class="row" id="{{ day.0 }}" align='center'>
                    <div class="col" align='center'>
                        <p class="details" id="details">{{ day.1.gameDays }} , {{ day.1.startHour}} - {{ day.1.endHour}}</p>
                    </div>
                </div>
            {% endfor %}
        {% endif %}   
        {% if tournament.gRound == 0 %}
            <div class="row" >
                <div class="col" align='center'>
                    <p class="title">Teams</p>
                </div>
            </div>
            <div class="row geral" id="row2">
                <div class="col-sm-2">
                    <div class="row">
                        <div class="col" align='center'>
                            <p class="subtopRow">Teams</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-7">
                    <div class="row">
                        <div class="col"  align='center'>
                            <p class="subtopRow">Tatic</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >Goalkeeper</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >Defender</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >Midfielder</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >Forward</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >Striker</p>
                        </div>
                    </div>
                </div>
            </div>
            {% for team in teams %}
                <div class="row" id={{ team.0 }}>
                    <div class="col-sm-2">
                        <div class="row">
                            <div class="col"  align='center'>
                                <p class="topRow" id="Midfielder">{{ team.1.name }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-7">
                        <div class="row">
                            <div class="col" align='center'>
                                <p class="topRow" id="tatic">{{ team.1.tactic.nDF }}-{{ team.1.tactic.nMF }}-{{ team.1.tactic.nFW }}-{{ team.1.tactic.nST }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow" id="Goalkeeper" >{{ team.1.availGK }}</p>
                            </div>

                            <div class="col"  align='center'>
                                <p class="topRow" id="Goalkeeper" >{{ team.1.availGK }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow" id="Midfielder">{{ team.1.availMF }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow" id="Forward">{{ team.1.availFW }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow" id="Striker">{{ team.1.availST }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                                {% if tournament.user == user %}
                                    <div class="col" align='center'>
                                        <a class="btn rounded-pill" href="{% url 'appEball:delete_team' team.1.pk %}" id='pageBtn' >Kick Team</a>
                                    </div>
                                {% endif %}
                                <div class="col" align='center'>
                                    <a class="btn rounded-pill"  href="{% url 'appEball:join_team' team.1.pk %}" id='pageBtn'>Join Team</a>
                                </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <div class="row space" >
                <div class="col" align='center'>
                    <p class="title">Leader Board</p>
                </div>
            </div>
            <div class="row geral" id="row2">
                <div class="col-sm-2">
                    <div class="row">
                        <div class="col"  align='center'>
                            <p class="subtopRow">Teams</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-7">
                    <div class="row">
                        <div class="col" align='center'>
                            <p class="subtopRow">Points</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow">Played</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >Won</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >Drawn</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >Lost</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >GF</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >GA</p>
                        </div>
                        <div class="col"  align='center'>
                            <p class="subtopRow" >GD</p>
                        </div>
                    </div>
                </div>
            </div>
            {% for team in teams %}
                <div class="row geral" id={{ team.0 }}>
                    <div class="col-sm-2">
                        <div class="row">
                            <div class="col"  align='center'>
                                <p class="topRow">{{ team.1.name }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-7">
                        <div class="row">
                            <div class="col"  align='center'>
                                <p class="topRow">{{ team.1.points }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow">{{ team.1.played }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow">{{ team.1.won }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow" id="Midfielder">{{ team.1.drawn }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow" id="Midfielder">{{ team.1.lost }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow" id="Forward">{{ team.1.goalsFor }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow" id="Striker">{{ team.1.goalsAgainst }}</p>
                            </div>
                            <div class="col"  align='center'>
                                <p class="topRow" id="Goalkeeper" >{{ team.1.goalsDif }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                            {% if tournament.user == user %}
                                <div class="col" align='center'>
                                    <button class="btn rounded-pill" type="submit" id="pageBtn">Kick Team</button>
                                </div>
                            {% endif %}
                            <div class="col" align='center'>
                                <a class="btn rounded-pill"  href="{% url 'appEball:join_team' team.1.pk %}" id='pageBtn'>Join Team</a>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endif %}    
    </div>

{% endblock %}


